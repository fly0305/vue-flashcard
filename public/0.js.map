{"version":3,"sources":["webpack:///./resources/js/user/EditProfile.vue?29c1","webpack:///./resources/js/user/EditProfile.vue?35f2","webpack:///resources/js/user/EditProfile.vue","webpack:///./resources/js/user/EditProfile.vue"],"names":["props","userData","Object","data","loading","status","errors","error","show1","success","isEditing","rules","required","min","methods","save","this","$store","errorFor","hasErrors","field","computed","component","_vm","_h","$createElement","_c","_self","ref","attrs","on","$event","_v","_e","model","value","callback","$$v","expression","$emit","type","indexOf","_k","keyCode","key","$set","staticClass","_s"],"mappings":"gGAAA,ICA2M,ECuF3M,CACEA,MAAO,CACLC,SAAUC,QAEZC,KAJF,WAKI,MAAO,CACLC,SAAS,EACTC,OAAQ,KACRC,OAAQ,KACRC,OAAO,EACPC,OAAO,EACPC,SAAS,EACTC,UAAW,KACXC,MAAO,CACLC,SAAU,SAAlB,2BACQC,IAAK,SAAb,kDAIEC,QAAS,CACPC,KADJ,WACA,WACMC,KAAKZ,SAAU,EACfY,KAAKV,OAAS,KACdU,KAAKT,OAAQ,EACbS,KAAKP,SAAU,EAEfO,KAAKC,OACX,sCACA,kBACQ,IAAR,aACQ,EAAR,uBACQ,EAAR,WACA,8BACU,EAAV,cAAY,KAAZ,UAAY,OAAZ,kBAPA,OAUA,iBACA,uCACU,EAAV,wCACU,EAAV,aAGA,iBAAQ,OAAR,iBAEIC,SAzBJ,SAyBA,GACM,OAAOF,KAAKG,WAAaH,KAAKV,OAAOc,GAASJ,KAAKV,OAAOc,GAAS,OAGvEC,SAAU,CACRF,UADJ,WAGM,OAAuB,OAAhBH,KAAKV,U,OCnIdgB,EAAY,YACd,GHRW,WAAa,IAAIC,EAAIP,KAASQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,IAAI,OAAOC,MAAM,CAAC,kBAAkB,KAAK,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,kBAAkB,IAAM,GAAG,MAAQ,IAAIC,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAIb,WAAaa,EAAIb,aAAa,CAAEa,EAAa,UAAEG,EAAG,SAAS,CAACH,EAAIS,GAAG,eAAeN,EAAG,SAAS,CAACH,EAAIS,GAAG,iBAAiB,GAAGT,EAAIS,GAAG,KAAMT,EAAW,QAAEG,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,UAAU,YAAc,KAAK,CAACN,EAAIS,GAAG,6BAA6BT,EAAIU,KAAKV,EAAIS,GAAG,KAAMT,EAAS,MAAEG,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,QAAQ,YAAc,KAAK,CAACN,EAAIS,GAAG,+BAA+BT,EAAIU,KAAKV,EAAIS,GAAG,KAAKN,EAAG,aAAa,CAACG,MAAM,CAAC,QAAU,IAAK,OAAS,GAAG,KAAO,IAAIK,MAAM,CAACC,MAAOZ,EAAW,QAAEa,SAAS,SAAUC,GAAMd,EAAId,QAAQ4B,GAAKC,WAAW,YAAY,CAACf,EAAIS,GAAG,oCAAoCT,EAAIS,GAAG,KAAKN,EAAG,aAAa,CAACG,MAAM,CAAC,QAAU,IAAK,OAAS,GAAG,KAAO,IAAIK,MAAM,CAACC,MAAOZ,EAAS,MAAEa,SAAS,SAAUC,GAAMd,EAAIhB,MAAM8B,GAAKC,WAAW,UAAU,CAACf,EAAIS,GAAG,+BAA+BT,EAAIS,GAAG,KAAKN,EAAG,eAAe,CAACG,MAAM,CAAC,eAAe,cAAc,MAAQ,WAAW,MAAQ,CAACN,EAAIZ,MAAMC,UAAU,iBAAiBW,EAAIL,SAAS,YAAY,QAAUK,EAAInB,QAAQ,SAAWmB,EAAInB,UAAYmB,EAAIb,WAAWoB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIgB,MAAM,QAAShB,EAAItB,WAAW,MAAQ,SAAS8B,GAAQ,OAAIA,EAAOS,KAAKC,QAAQ,QAAQlB,EAAImB,GAAGX,EAAOY,QAAQ,QAAQ,GAAGZ,EAAOa,IAAI,SAAkB,KAAcrB,EAAIR,KAAKgB,KAAUG,MAAM,CAACC,MAAOZ,EAAItB,SAAiB,SAAEmC,SAAS,SAAUC,GAAMd,EAAIsB,KAAKtB,EAAItB,SAAU,WAAYoC,IAAMC,WAAW,uBAAuBf,EAAIS,GAAG,KAAKN,EAAG,eAAe,CAACG,MAAM,CAAC,eAAe,SAAS,MAAQ,QAAQ,MAAQ,CAACN,EAAIZ,MAAMC,UAAU,iBAAiBW,EAAIL,SAAS,SAAS,QAAUK,EAAInB,QAAQ,SAAWmB,EAAInB,UAAYmB,EAAIb,WAAWoB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIgB,MAAM,QAAShB,EAAItB,WAAW,MAAQ,SAAS8B,GAAQ,OAAIA,EAAOS,KAAKC,QAAQ,QAAQlB,EAAImB,GAAGX,EAAOY,QAAQ,QAAQ,GAAGZ,EAAOa,IAAI,SAAkB,KAAcrB,EAAIR,KAAKgB,KAAUG,MAAM,CAACC,MAAOZ,EAAItB,SAAc,MAAEmC,SAAS,SAAUC,GAAMd,EAAIsB,KAAKtB,EAAItB,SAAU,QAASoC,IAAMC,WAAW,oBAAoBf,EAAIS,GAAG,KAAKN,EAAG,eAAe,CAACG,MAAM,CAAC,eAAe,WAAW,MAAQ,CAACN,EAAIZ,MAAME,KAAK,iBAAiBU,EAAIL,SAAS,YAAY,KAAOK,EAAIf,MAAQ,OAAS,WAAW,KAAO,aAAa,MAAQ,eAAe,QAAU,GAAG,QAAUe,EAAInB,QAAQ,SAAWmB,EAAInB,UAAYmB,EAAIb,WAAWoB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOS,KAAKC,QAAQ,QAAQlB,EAAImB,GAAGX,EAAOY,QAAQ,QAAQ,GAAGZ,EAAOa,IAAI,SAAkB,KAAcrB,EAAIR,KAAKgB,KAAUG,MAAM,CAACC,MAAOZ,EAAItB,SAAiB,SAAEmC,SAAS,SAAUC,GAAMd,EAAIsB,KAAKtB,EAAItB,SAAU,WAAYoC,IAAMC,WAAW,uBAAuBf,EAAIS,GAAG,KAAKN,EAAG,eAAe,CAACG,MAAM,CAAC,eAAe,WAAW,MAAQ,CAACN,EAAIZ,MAAME,KAAK,iBAAiBU,EAAIL,SAAS,yBAAyB,KAAO,aAAa,KAAOK,EAAIf,MAAQ,OAAS,WAAW,MAAQ,4BAA4B,QAAU,GAAG,QAAUe,EAAInB,QAAQ,SAAWmB,EAAInB,UAAYmB,EAAIb,WAAWoB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOS,KAAKC,QAAQ,QAAQlB,EAAImB,GAAGX,EAAOY,QAAQ,QAAQ,GAAGZ,EAAOa,IAAI,SAAkB,KAAcrB,EAAIR,KAAKgB,KAAUG,MAAM,CAACC,MAAOZ,EAAItB,SAA8B,sBAAEmC,SAAS,SAAUC,GAAMd,EAAIsB,KAAKtB,EAAItB,SAAU,wBAAyBoC,IAAMC,WAAW,oCAAoCf,EAAIS,GAAG,KAAKN,EAAG,QAAQ,CAACoB,YAAY,OAAOjB,MAAM,CAAC,SAAWN,EAAInB,UAAYmB,EAAIb,UAAU,MAAQ,SAAS,KAAO,IAAIoB,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAIf,OAASe,EAAIf,SAAS,CAACkB,EAAG,SAAS,CAACH,EAAIS,GAAGT,EAAIwB,GAAGxB,EAAIf,MAAQ,UAAY,mBAAmB,GAAGe,EAAIS,GAAG,KAAKN,EAAG,QAAQ,CAACoB,YAAY,OAAOjB,MAAM,CAAC,SAAWN,EAAInB,UAAYmB,EAAIb,UAAU,MAAQ,WAAWoB,GAAG,CAAC,MAAQP,EAAIR,OAAO,CAACQ,EAAIS,GAAG,mBAAmB,IAAI,KAC9tH,IGUpB,EACA,KACA,KACA,MAIa,UAAAV,E","file":"0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"}},[_c('v-btn',{attrs:{\"color\":\"purple darken-3\",\"fab\":\"\",\"small\":\"\"},on:{\"click\":function($event){_vm.isEditing = !_vm.isEditing}}},[(_vm.isEditing)?_c('v-icon',[_vm._v(\"mdi-close\")]):_c('v-icon',[_vm._v(\"mdi-pencil\")])],1),_vm._v(\" \"),(_vm.success)?_c('v-alert',{attrs:{\"type\":\"success\",\"dismissible\":\"\"}},[_vm._v(\"Your account has saved.\")]):_vm._e(),_vm._v(\" \"),(_vm.error)?_c('v-alert',{attrs:{\"type\":\"error\",\"dismissible\":\"\"}},[_vm._v(\"Fill your data correctly.\")]):_vm._e(),_vm._v(\" \"),_c('v-snackbar',{attrs:{\"timeout\":2000,\"bottom\":\"\",\"left\":\"\"},model:{value:(_vm.success),callback:function ($$v) {_vm.success=$$v},expression:\"success\"}},[_vm._v(\"Your profile has been updated.\")]),_vm._v(\" \"),_c('v-snackbar',{attrs:{\"timeout\":2000,\"bottom\":\"\",\"left\":\"\"},model:{value:(_vm.error),callback:function ($$v) {_vm.error=$$v},expression:\"error\"}},[_vm._v(\"Fill your data correctly.\")]),_vm._v(\" \"),_c('v-text-field',{attrs:{\"prepend-icon\":\"mdi-account\",\"label\":\"Username\",\"rules\":[_vm.rules.required],\"error-messages\":_vm.errorFor('username'),\"loading\":_vm.loading,\"disabled\":_vm.loading || !_vm.isEditing},on:{\"input\":function($event){return _vm.$emit('input', _vm.userData)},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.save($event)}},model:{value:(_vm.userData.username),callback:function ($$v) {_vm.$set(_vm.userData, \"username\", $$v)},expression:\"userData.username\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"prepend-icon\":\"mdi-at\",\"label\":\"Email\",\"rules\":[_vm.rules.required],\"error-messages\":_vm.errorFor('email'),\"loading\":_vm.loading,\"disabled\":_vm.loading || !_vm.isEditing},on:{\"input\":function($event){return _vm.$emit('input', _vm.userData)},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.save($event)}},model:{value:(_vm.userData.email),callback:function ($$v) {_vm.$set(_vm.userData, \"email\", $$v)},expression:\"userData.email\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"prepend-icon\":\"mdi-lock\",\"rules\":[_vm.rules.min],\"error-messages\":_vm.errorFor('password'),\"type\":_vm.show1 ? 'text' : 'password',\"name\":\"input-10-1\",\"label\":\"New Password\",\"counter\":\"\",\"loading\":_vm.loading,\"disabled\":_vm.loading || !_vm.isEditing},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.save($event)}},model:{value:(_vm.userData.password),callback:function ($$v) {_vm.$set(_vm.userData, \"password\", $$v)},expression:\"userData.password\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"prepend-icon\":\"mdi-lock\",\"rules\":[_vm.rules.min],\"error-messages\":_vm.errorFor('password_confirmation'),\"name\":\"input-10-1\",\"type\":_vm.show1 ? 'text' : 'password',\"label\":\"New Password confirmation\",\"counter\":\"\",\"loading\":_vm.loading,\"disabled\":_vm.loading || !_vm.isEditing},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.save($event)}},model:{value:(_vm.userData.password_confirmation),callback:function ($$v) {_vm.$set(_vm.userData, \"password_confirmation\", $$v)},expression:\"userData.password_confirmation\"}}),_vm._v(\" \"),_c('v-btn',{staticClass:\"ma-2\",attrs:{\"disabled\":_vm.loading || !_vm.isEditing,\"color\":\"indigo\",\"dark\":\"\"},on:{\"click\":function($event){_vm.show1 = !_vm.show1}}},[_c('v-icon',[_vm._v(_vm._s(_vm.show1 ? 'mdi-eye' : 'mdi-eye-off'))])],1),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-4\",attrs:{\"disabled\":_vm.loading || !_vm.isEditing,\"color\":\"success\"},on:{\"click\":_vm.save}},[_vm._v(\"Save profile\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProfile.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <v-form ref=\"form\" lazy-validation>\n      <v-btn color=\"purple darken-3\" fab small @click=\"isEditing = !isEditing\">\n        <v-icon v-if=\"isEditing\">mdi-close</v-icon>\n        <v-icon v-else>mdi-pencil</v-icon>\n      </v-btn>\n      <v-alert type=\"success\" v-if=\"success\" dismissible>Your account has saved.</v-alert>\n      <v-alert type=\"error\" v-if=\"error\" dismissible>Fill your data correctly.</v-alert>\n\n      <v-snackbar v-model=\"success\" :timeout=\"2000\" bottom left>Your profile has been updated.</v-snackbar>\n\n      <v-snackbar v-model=\"error\" :timeout=\"2000\" bottom left>Fill your data correctly.</v-snackbar>\n\n      <v-text-field\n        v-model=\"userData.username\"\n        prepend-icon=\"mdi-account\"\n        label=\"Username\"\n        :rules=\"[rules.required]\"\n        :error-messages=\"errorFor('username')\"\n        @input=\"$emit('input', userData)\"\n        @keyup.enter=\"save\"\n        :loading=\"loading\"\n        :disabled=\"loading || !isEditing\"\n      ></v-text-field>\n\n      <v-text-field\n        v-model=\"userData.email\"\n        prepend-icon=\"mdi-at\"\n        label=\"Email\"\n        :rules=\"[rules.required]\"\n        :error-messages=\"errorFor('email')\"\n        @input=\"$emit('input', userData)\"\n        @keyup.enter=\"save\"\n        :loading=\"loading\"\n        :disabled=\"loading || !isEditing\"\n      ></v-text-field>\n\n      <v-text-field\n        v-model=\"userData.password\"\n        prepend-icon=\"mdi-lock\"\n        :rules=\"[rules.min]\"\n        :error-messages=\"errorFor('password')\"\n        :type=\"show1 ? 'text' : 'password'\"\n        name=\"input-10-1\"\n        label=\"New Password\"\n        counter\n        :loading=\"loading\"\n        :disabled=\"loading || !isEditing\"\n        @keyup.enter=\"save\"\n      ></v-text-field>\n\n      <v-text-field\n        v-model=\"userData.password_confirmation\"\n        prepend-icon=\"mdi-lock\"\n        :rules=\"[rules.min]\"\n        :error-messages=\"errorFor('password_confirmation')\"\n        name=\"input-10-1\"\n        :type=\"show1 ? 'text' : 'password'\"\n        label=\"New Password confirmation\"\n        counter\n        :loading=\"loading\"\n        :disabled=\"loading || !isEditing\"\n        @keyup.enter=\"save\"\n      ></v-text-field>\n\n      <v-btn\n        @click=\"show1 = !show1\"\n        :disabled=\"loading || !isEditing\"\n        class=\"ma-2\"\n        color=\"indigo\"\n        dark\n      >\n        <v-icon>{{ show1 ? 'mdi-eye' : 'mdi-eye-off' }}</v-icon>\n      </v-btn>\n\n      <v-btn\n        :disabled=\"loading || !isEditing\"\n        color=\"success\"\n        class=\"mr-4\"\n        @click=\"save\"\n      >Save profile</v-btn>\n    </v-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    userData: Object\n  },\n  data() {\n    return {\n      loading: false,\n      status: null,\n      errors: null,\n      error: false,\n      show1: false,\n      success: false,\n      isEditing: null,\n      rules: {\n        required: v => !!v || \"Required.\",\n        min: v => (v && v.length) >= 6 || \"Min 6 characters\"\n      }\n    };\n  },\n  methods: {\n    save() {\n      this.loading = true;\n      this.errors = null;\n      this.error = false;\n      this.success = false;\n\n      this.$store\n        .dispatch(\"editProfile\", this.userData)\n        .then(response => {\n          const username = response.username;\n          this.isEditing = !this.isEditing;\n          this.success = true;\n          if (username !== this.$route.params.username) {\n            this.$router.push({ name: \"profile\", params: { username } });\n          }\n        })\n        .catch(error => {\n          if (error.graphQLErrors.validationErrors !== undefined) {\n            this.errors = error.graphQLErrors.validationErrors;\n            this.error = true;\n          }\n        })\n        .then(() => (this.loading = false));\n    },\n    errorFor(field) {\n      return this.hasErrors && this.errors[field] ? this.errors[field] : null;\n    }\n  },\n  computed: {\n    hasErrors() {\n      // return 401 === this.status && this.errors !== null;\n      return this.errors !== null;\n    }\n  }\n};\n</script>\n","import { render, staticRenderFns } from \"./EditProfile.vue?vue&type=template&id=2262023f&\"\nimport script from \"./EditProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./EditProfile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}